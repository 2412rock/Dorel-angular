<div
    style="background-color: var(--background-color); width: 100vw; height: 100vh; display: flex; flex-direction: row;">
    <div
        style="width: 14%; height:100%; border-right: 0.1em solid white; background-color: var(--card-color); display: flex; align-items: center; flex-direction: column;">
        <div *ngFor="let group of groups; let i = index" class="chat-div">
            <div (click)="clickChat(i)">
                <app-chat-with-user-menu-item style="width: 100%;" [chatWithUsername]="group.withUserName"
                    [lastMessage]="group.messages[0].messageText"></app-chat-with-user-menu-item>
            </div>
        </div>
    </div>
    <div *ngIf="openChat" style="width: 86%; height: 100%;">
        <div #scrollableContent style="height: 90%; width: 100%; max-height: 90%; overflow-y: scroll;">
            <div *ngFor="let message of groupMessages" style="width: 100%; display: flex;" [ngStyle]="{'justify-content': message.senderId === myUserId? 'end' : 'start'}">
                <p style="color: white; font-size: large; border: 0.1em solid white; padding: 1em; border-radius: 20%; background-color: gray;" >{{message.messageText}}</p>
            </div>
        </div>
        <div style="width: 100%; height: 9%; display: flex; flex-direction: row;">
            <input style="width: 90%; height: 100%;" type="text" [(ngModel)]="text">
            <div (click)="sendMessage()" style="background-color: var(--selected-color); padding: 0.1em; display: flex; align-items: center; justify-content: center;">
                <span>Send message </span>
            </div>
        </div>
    </div>
</div>